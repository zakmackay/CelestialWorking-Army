namespace = force

event = {
	id = force.1
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		every_country = {
			country_event = { id = force.2}
		}
	}
}

event = {
	id = force.2
	hide_window = yes
	is_triggered_only = yes
	immediate = {
	####set to 0
		set_variable = {
			which = "force_limit" 
			value = 15
		}
		set_variable = {
			which = "force_limit_spec" 
			value = 0
		}
		set_variable = {
			which = "force_limit_slave" 
			value = 0
		}
		set_variable = {
			which = "titanic_life_soldier_count" 
			value = 0
		}
		set_variable = {
			which = "xeno_cav_count" 
			value = 0
		}
		set_variable = {
			which = "hovor_tank_count" 
			value = 0
		}
		set_variable = {
			which = "foreign_count" 
			value = 0
		}

	### foreign
		every_country  = {
			limit = { has_migration_access = ROOT   }
			root = {
				change_variable = {
					which = "foreign_count" 
					value = 6
				}
			}
		}
		every_army_within_country = {
			limit = {
				OR = {
					army_type = "foreign_army"
				}
			}
			root = {
				change_variable = {
					which = "foreign_count" 
					value = -3
				}
			}
		}
		every_army_within_country = {
			limit = {
				OR = {
					army_type = "foreign_army_def"
				}
			}
			root = {
				change_variable = {
					which = "foreign_count" 
					value = -1
				}
			}
		}

	### Xeno calvary
		every_owned_planet = {
			limit = { has_strategic_resource = "sr_xeno_cav"  } #rewrite for next update
			root = {
				change_variable = {
					which = "xeno_cav_count" 
					value = 6
				}
			}
		}
		every_army_within_country = {
			limit = {
				OR = {
					army_type = "xeno_cav_army"
					army_type = "xeno_cav_psi_army"
				}
			}
			root = {
				change_variable = {
					which = "xeno_cav_count" 
					value = -3
				}
			}
		}
		every_army_within_country = {
			limit = {
				OR = {
					army_type = "xeno_cav_army_def"
					army_type = "xeno_cav_psi_army_def"
				}
			}
			root = {
				change_variable = {
					which = "xeno_cav_count" 
					value = -1
				}
			}
		}
	#### hover tanks
		every_owned_planet = {
			limit = { has_strategic_resource = "sr_hover_tank"  }
			root = {
				change_variable = {
					which = "hovor_tank_count" 
					value = 6
				}
			}
		}
		every_army_within_country = {
			limit = {
				OR = {
					army_type = "hovor_tank_army"
					army_type = "hover_tank_robo_army"
				}
			}
			root = {
				change_variable = {
					which = "hover_tank_count" 
					value = -3
				}
			}
		}
		every_army_within_country = {
			limit = {
				OR = {
					army_type = "hover_tank_army_def"
					army_type = "hover_tank_robo_army_def"
				}
			}
			root = {
				change_variable = {
					which = "hover_tank_count" 
					value = -1
				}
			}
		}

#special force limit
		every_owned_planet = {
			limit = { has_building = "building_capital_1" }
			root = {
				change_variable = {
					which = "force_limit_spec" 
				value = 1
				}
			}
		}
		every_owned_planet = {
			limit = { has_building = "building_capital_2" }
			root = {
				change_variable = {
					which = "force_limit_spec" 
					value = 2
				}
			}
		}
		every_owned_planet = {
			limit = { has_building = "building_capital_3" }
			root = {
				change_variable = {
					which = "force_limit_spec" 
					value = 3
				}
			}
		}
		every_army_within_country = {
			limit = {
				OR = {
					army_type = "android_army"
					army_type = "psionic_army"
					army_type = "xenomorph_army"
					army_type = "gene_warrior_army"
					army_type = "xeno_cav_psi_army"
					army_type = "hover_tank_robo_army"
					army_type = "xenomorph_titanic_army"
				}
			}
			root = {
				change_variable = {
					which = "force_limit_spec" 
					value = -3
				}
			}
		}
		every_army_within_country = {
			limit = {
				OR = {
					army_type = "android_army_def"
					army_type = "psionic_army_def"
					army_type = "xenomorph_army_def"
					army_type = "gene_warrior_army_def"
					army_type = "xeno_cav_psi_army_def"
					army_type = "hover_tank_robo_army_def"
					army_type = "xenomorph_titanic_army_def"
				}
			}
			root = {
				change_variable = {
					which = "force_limit_spec" 
					value = -1
				}
			}
		}
		#### titanic life
		every_owned_planet = {
			limit = { has_planet_flag = titanic_life_can_build }
			root = {
				change_variable = {
					which = "titanic_life_soldier_count" 
					value = 6
				}
			}
		}
		every_army_within_country = {
			limit = {
				OR = {
					army_type = "titanic_assault_army"
				}
			}
			root = {
				change_variable = {
					which = "titanic_life_soldier_count" 
					value = -3
				}
			}
		}
		every_army_within_country = {
			limit = {
				OR = {
					army_type = "titanic_assault_army_def"
				}
			}
			root = {
				change_variable = {
					which = "titanic_life_soldier_count" 
					value = -1
				}
			}
		}
		#####Force limit
		every_owned_pop = {
			limit = { is_enslaved = no }
			root = {
				change_variable = {
					which = "force_limit" 
					value = 1
				}
			}
		}
		every_army_within_country = {
			limit = {
				OR = {
					army_type = "assault_army" 
					army_type = "clone_army"
					army_type = "robotic_army"
					army_type = "android_army"
					army_type = "psionic_army"
					army_type = "xenomorph_army"
					army_type = "gene_warrior_army"
					army_type = "elite_guard_army"
					army_type = "xeno_cav_psi_army"
					army_type = "hover_tank_robo_army"
					army_type = "xenomorph_titanic_army"
				}
			}
			root = {
				change_variable = {
					which = "force_limit" 
					value = -3
				}
			}
		}
		every_army_within_country = {
			limit = {
				OR = {
					army_type = "defense_army" 
					army_type = "clone_army_def"
					army_type = "robotic_army_def"
					army_type = "android_army_def"
					army_type = "psionic_army_def"
					army_type = "xenomorph_army_def"
					army_type = "gene_warrior_army_def"
					army_type = "elite_guard_army_def"
					army_type = "xeno_cav_psi_army_def"
					army_type = "hover_tank_robo_army_def"
					army_type = "xenomorph_titanic_army_def"
				}
			}
			root = {
				change_variable = {
						which = "force_limit" 
						value = -1
				}
			}
		}
		#### Slave
		every_owned_planet = {
			limit = { has_building = "building_slave_processing" }
			every_owned_pop = {
				limit = { is_enslaved = yes }
				root = {
					change_variable = {
						which = "force_limit_slave" 
						value = 1
					}
				}
			}
		}
		every_army_within_country = {
			limit = {
				OR = {
					army_type = "slave_army"
				}
			}
			root = {
				change_variable = {
					which = "force_limit_slave" 
					value = -3
				}
			}
		}
		every_army_within_country = {
			limit = {
				OR = {
					army_type = "slave_army_def"
				}
			}
			root = {
				change_variable = {
					which = "force_limit_slave" 
					value = -1
				}
			}
		}
	}
}